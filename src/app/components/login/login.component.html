<div class="login-container">
  <!-- Header following Gov.br Design System -->
  <header class="br-header compact">
    <div class="container-lg">
      <div class="header-top">
        <div class="header-logo">
          <img src="/assets/bndeslogo.png" alt="BNDES" class="logo" />
        </div>
        <div class="header-actions">
          <div class="header-functions">
            <button 
              class="br-button secondary small" 
              type="button" 
              aria-label="Alto Contraste"
              [class.active]="isHighContrast"
              (click)="toggleHighContrast()">
              <i class="fas fa-adjust" aria-hidden="true"></i>
              <span class="button-text">Alto Contraste</span>
            </button>
            <button 
              class="br-button secondary small" 
              type="button" 
              aria-label="VLibras"
              [class.active]="isVLibrasActive"
              (click)="toggleVLibras()">
              <i class="fas fa-universal-access" aria-hidden="true"></i>
              <span class="button-text">VLibras</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="login-content">
    <!-- Loading Overlay -->
    <div *ngIf="isLoading" class="loading-overlay">
      <br-loading 
        size="medium" 
        [message]="loadingMessage">
      </br-loading>
    </div>

    <!-- Left side - Illustration exactly as Figma -->
    <div class="illustration-side">
      <div class="illustration-content">
        <div class="main-character">
          <div class="character-background"
               style="background-image: url('/assets/avatarcenterlogo.png'); background-size: contain; background-repeat: no-repeat; background-position: center;">
          </div>
        </div>
      </div>
    </div>

    <!-- Right side - Login form -->
    <div class="form-side">
      <div class="form-container">
        <div class="form-content">
          <div class="form-header">
            <h1 class="form-title">Acesso à calculadora</h1>
          </div>

          <form class="login-form" (ngSubmit)="onSubmit()">
            <!-- CPF Input -->
            <div class="form-group">
              <label for="cpf" class="br-label">CPF</label>
              <div class="br-input">
                <input
                  type="text"
                  id="cpf"
                  name="cpf"
                  [(ngModel)]="cpf"
                  (input)="formatCPF($event)"
                  placeholder="000.000.000-00"
                  maxlength="14"
                  class="form-control"
                  required
                />
              </div>
              <div class="input-feedback">
                <span class="feedback-text">Digite somente números</span>
              </div>
            </div>

            <!-- Password Input -->
            <div class="form-group">
              <label for="senha" class="br-label">Senha</label>
              <div class="br-input password-input">
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  id="senha"
                  name="senha"
                  [(ngModel)]="senha"
                  placeholder="Digite sua senha"
                  class="form-control"
                  required
                />
                <button
                  type="button"
                  class="password-toggle"
                  (click)="togglePassword()"
                  aria-label="Mostrar/ocultar senha">
                  <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'" aria-hidden="true"></i>
                </button>
              </div>
              <div class="input-feedback">
                <span class="feedback-text">Digite sua senha de segurança</span>
              </div>
            </div>
            
            <!-- Forgot password link positioned as in Figma -->
            <div class="forgot-password">
              <a href="#" class="forgot-link">Esqueceu a senha?</a>
            </div>

            <!-- Keep connected checkbox -->
            <div class="form-group checkbox-group">
              <div class="br-checkbox">
                <input
                  type="checkbox"
                  id="manterConectado"
                  name="manterConectado"
                  [(ngModel)]="manterConectado"
                  class="br-checkbox-input"
                />
                <label for="manterConectado" class="br-checkbox-label">
                  Manter conectado
                </label>
              </div>
            </div>

            <!-- Login button -->
            <div class="form-group">
              <button 
                class="br-button primary block login-button curved"
                type="submit"
                [disabled]="!cpf || !senha || isLoading">
                <span *ngIf="!isLoading">Entrar</span>
                <span *ngIf="isLoading">
                  <i class="fas fa-spinner fa-spin"></i>
                  Entrando...
                </span>
              </button>
            </div>
          </form>

          <!-- Divider exactly as in Figma -->
          <div class="form-divider">
            <div class="br-divider">
              <span class="divider-text">ou</span>
            </div>
          </div>

          <!-- Gov.br button with curved design -->
          <div class="form-group">
            <button 
              class="br-button secondary block govbr-button curved"
              type="button"
              [disabled]="isLoading"
              (click)="loginGovBr()">
              <span *ngIf="!isLoading" class="govbr-text">Entrar com</span>
              <span *ngIf="isLoading">
                <i class="fas fa-spinner fa-spin"></i>
                Conectando...
              </span>
              <img *ngIf="!isLoading" src="/assets/govlogo.png" alt="gov.br" class="govbr-logo" />
            </button>
          </div>

          <!-- First access link positioned as in Figma -->
          <div class="first-access">
            <a href="#" class="first-access-link">Primeiro acesso?</a>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>